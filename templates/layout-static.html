{% extends 'sidenav-layout.html' %}
{% block scripts %}
  <script>
    const googleMapApiKey = '{{ google_maps_api_key }}' // Flask 템플릿 변수를 사용하여 API 키를 가져옴
    console.log('API Key:', googleMapApiKey)
  </script>
  <script defer src="https://maps.googleapis.com/maps/api/js?key={{ google_maps_api_key }}&loading=async&callback=initMap"></script>

  <script>
    function initMap() {
        // 지도 객체 생성
        var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 2, // 초기 확대 수준
            center: { lat: 20, lng: 0 } // 초기 중심 위치
        });

        // Flask에서 전달한 좌표 정보를 가져오기
        var coordinates = {{ coordinates | tojson }};
        
        // 좌표 정보를 반복하여 마커를 생성하여 지도에 추가
        for (var i = 0; i < coordinates.length; i++) {
            var marker = new google.maps.Marker({
                position: { lat: parseFloat(coordinates[i][0]), lng: parseFloat(coordinates[i][1]) },
                map: map
            });
        }
    }
</script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
  <!-- <script src="../static/js/scripts.js"></script> -->
{% endblock %}

{% block content %}
  <div class="container-fluid px-4">
    <h1 class="mt-4">Static Navigation</h1>
    <ol class="breadcrumb mb-4">
      <li class="breadcrumb-item">
        <a href="index.html">Dashboard</a>
      </li>
      <li class="breadcrumb-item active">Static Navigation</li>
    </ol>
    <div class="card mb-4">
      <div class="card-body">
        <p class="mb-0">
          This page is an example of using static navigation. By removing the
          <code>.sb-nav-fixed</code>
          class from the
          <code>body</code>
          , the top navigation and side navigation will become static on scroll. Scroll down this page to see an example.
        </p>
      </div>
    </div>
    <div id="map" style="height: 600px;">map</div>
    <div style="height: 100vh"></div>
    <div class="card mb-4">
      <div class="card-body">When scrolling, the navigation stays at the top of the page. This is the end of the static navigation demo.</div>
    </div>
  </div>
{% endblock %}
